<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
	<meta charset="UTF-8">
	<title>どのやまのぼる？～関東編～</title>
	<meta name="description" content="楽しい山登り。明日はどの山登る？">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="icon" href="../public/img/favicon.ico">
	<!-- <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css" /> -->
	<!-- <link rel="stylesheet" href="../static/css/top.css"> -->
	<link th:href="@{/css/top.css}" rel="stylesheet" />
</head>
<body>
	<main>
    	<!-- header -->
		<header id="header" class="container">
			<a th:href="@{/mountain}"><h1 class="site-title">どのやまのぼる？</h1></a>
			<ul>
				<li><a th:href="@{/signup}">新規登録</a></li>
				<li><a th:href="@{/login}">ログイン</a></li>
			</ul>
		</header>
		

		<div th:object="${mountain}">
			
			<h2 th:text="*{name}"></h2>
			<p><!-- 改行コードの変換  -->
			<th:block th:if="*{content}">
				<!-- \r\nなどがきたら改行の繰り返し -->
				<th:block th:each="line: *{content.split('\\r\\n|\\r|\\n', -1)}">
					<th:block th:text="${line}" />
					<br />
				</th:block>
			</th:block>
			</p>
			
			<dl>
				<dt>場所</dt>
				<dd th:text="*{prefecture}"></dd>
				
				<dt>コースタイム</dt>
				<dd th:text="*{time}+'分'"></dd>
				
				<dt>最寄り駅</dt>
				<dd th:text="*{station}"></dd>
			</dl>
			
			<div>
				<h2>この山に関するレビュー</h2>
				
				<th:block th:each="review:${reviewList}">
					<div th:object="${review}">
						<h4 th:text="*{username}+'さん'"></h4>
						<h3 th:text="*{title}"></h3>
						<p th:text="*{body}"></p>
						<p th:text="*{#dates.format(createdAt,'YYYY年MM月DD日')}"></p>
					</div>
				</th:block>
				
				<a th:href="@{/mountain/review-create{id}(id = *{id})}">
					レビューを投稿する
				</a>
			</div>
			
		</div>
	</main>
</body>
</html>